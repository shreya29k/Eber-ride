<div class="container_top">
  <div class="filter-section">
    <select id="filter-dropdown">
      <option value="0">PENDING</option>
      <option value="1">ASSIGNING</option>
      <option value="2">ASSIGNING</option>
      <option value="3">CANCELLED</option>
      <option value="4">ACCEPTED</option>
      <option value="5">ARRIVED</option>
      <option value="6">STARTED</option>
      <option value="7">COMPLETED</option>
    </select>

    <select id="filter-dropdown">
      <option value="status">Auto-Rickshaw</option>
    </select>
    
    <input type="text" id="search-input" placeholder="Search by Req. ID, Name, Phone, Pick up Date..." [(ngModel)]="search" (input)="getRideHistory()">
    <input type="date" id="search-input" [(ngModel)]="search" (input)="getRideHistory()">
    <!-- <button id="search-button">Search</button> -->
    <div class="custom-select" >
      <select class="m-2" id="pageSize" [(ngModel)]="limit" (change)="onPageSizeChange($event)">
        <option value="">Select Page</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="10">10</option>
      </select>
    </div>
  </div>
</div>


<div class="container mt-4">
    <!-- ----------------------------------------TABLE------------------------------------------------- -->
    <div class="parentFormContainer p-4
     border rounded">
      <div id="tableContainer">
        <div class="table-responsive">
          <table class="table">
            <thead class="bg-light text-dark">
              <tr>
                <th>Req. ID</th>
                <th>User ID</th>
                <th>Username</th>
                <th>Pick up Time</th>
                <th>Pick up Address</th>
                <th>Drop off Address</th>
                <th>Service Type</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
                <tr *ngFor="let ride of ridesArray |  paginate: { itemsPerPage: limit, currentPage: currentPage, totalItems: count}; let i = index">

                    <td>{{ ride._id }}</td>
                    <td>{{ ride.userId }}</td>
                    <td>{{ ride.userDetails.username }}</td>
                    <td>{{ ride.rideDate }}</td>
                    <td class="fixed-width">{{ ride.startLocation }}</td>
                    <td class="fixed-width">{{ ride.endLocation }}</td>
                    <td>{{ ride.serviceType }}</td>

                    <td class="badge" [ngClass]="{'badge-success': ride.status === 7, 'badge-danger': ride.status === 3}">
                    {{ statusLabels[ride.status] || 'unknown' }}
                    </td>
                      
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  

  <!-- ---------------------------------------------PAGINATION USING NGX-------------------------------------------- ----- -->
  <div class="d-flex justify-content-center mt-4">
    <pagination-controls  (pageChange)="onPageChange($event)" [maxSize]="5"
        [responsive]="true"></pagination-controls>
  </div>

