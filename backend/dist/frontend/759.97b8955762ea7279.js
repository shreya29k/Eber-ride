"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[759],{1759:(A,d,a)=>{a.r(d),a.d(d,{CountryModule:()=>v});var s=a(4755),e=a(9401),t=a(2223),l=a(3144);let y=(()=>{class o{constructor(n){this.http=n,this.serverUrl="http://eberride-env.eba-83w3w3ik.ap-south-1.elasticbeanstalk.com",this.countryAPI="https://restcountries.com/v3.1/all"}fetchCountryAPI(){return this.http.get(`${this.countryAPI}`)}addCountry(n){return this.http.post(`${this.serverUrl}/countryadd`,n)}getcountryData(){return this.http.get(`${this.serverUrl}/countrydata`)}searchCountry(n){return this.http.get(`${this.serverUrl}/searchcountry/`,{params:{search:n}})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(l.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=a(2018),p=a(6835),m=a(430);function g(o,i){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const n=i.$implicit;t.xp6(1),t.Oqu(n.name.common)}}function f(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",9)(1,"h2",10),t._uU(2,"COUNTRY"),t.qZA(),t.TgZ(3,"form",11),t.NdJ("ngSubmit",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.OnSubmit())}),t.TgZ(4,"div",12)(5,"select",13,14),t.NdJ("change",function(){t.CHM(n);const c=t.MAs(6),u=t.oxw();return t.KtG(u.onSelected(c.value))}),t.TgZ(7,"option",15),t._uU(8,"Select Country"),t.qZA(),t.YNc(9,g,2,1,"option",16),t.qZA()(),t.TgZ(10,"div",10)(11,"label",17),t._uU(12,"Country"),t.qZA(),t._UZ(13,"input",18),t.qZA(),t.TgZ(14,"div",10)(15,"label",17),t._uU(16,"TimeZone"),t.qZA(),t._UZ(17,"input",19),t.qZA(),t.TgZ(18,"div",10)(19,"label",17),t._uU(20,"Code"),t.qZA(),t._UZ(21,"input",20),t.qZA(),t.TgZ(22,"div",10)(23,"label",17),t._uU(24,"Currency"),t.qZA(),t._UZ(25,"input",21),t.qZA(),t.TgZ(26,"div",10)(27,"label",17),t._uU(28,"Flag"),t.qZA(),t._UZ(29,"img",22),t.qZA(),t.TgZ(30,"div")(31,"button",23),t._uU(32," Add-country"),t.qZA(),t.TgZ(33,"button",24),t.NdJ("click",function(){t.CHM(n);const c=t.oxw();return t.KtG(c.cancel())}),t._uU(34," Cancel"),t.qZA()()()()}if(2&o){const n=t.oxw();let r;t.xp6(3),t.Q6J("formGroup",n.countryForm),t.xp6(6),t.Q6J("ngForOf",n.countryData),t.xp6(4),t.Q6J("readonly",n.AddbuttonForm)("value","countryname"),t.xp6(4),t.Q6J("readonly",n.AddbuttonForm)("value","countrytimezone"),t.xp6(4),t.Q6J("readonly",n.AddbuttonForm)("value","countrycode"),t.xp6(4),t.Q6J("readonly",n.AddbuttonForm)("value",null==(r=n.countryForm.get("countrycurrency"))?null:r.value),t.xp6(4),t.s9C("src",n.flag,t.LSH)}}function C(o,i){if(1&o&&(t.TgZ(0,"div",26),t._UZ(1,"img",27),t.TgZ(2,"div",28)(3,"h5",29),t._uU(4),t.qZA(),t.TgZ(5,"h5",29),t._uU(6),t.qZA(),t.TgZ(7,"h5",29),t._uU(8),t.qZA(),t.TgZ(9,"h5",29),t._uU(10),t.qZA()()()),2&o){const n=i.$implicit;t.xp6(1),t.s9C("src",n.flagImage,t.LSH),t.xp6(3),t.hij("Country Name: ",n.countryName,""),t.xp6(2),t.hij("Timezone: ",n.countryTimeZone,""),t.xp6(2),t.hij("Country Code: ",n.countryCode,""),t.xp6(2),t.hij("Country Currency: ",n.countryCurrency,"")}}let x=(()=>{class o{constructor(n,r,c,u,Z){this.http=n,this._country=r,this.formbuilder=c,this.toastr=u,this.authService=Z,this.AddbuttonForm=!1,this.addcountrydata={countryname:"",countrycurrency:"",countrytimezone:"",countrycode:"",flag:""},this.countryDataDB=[],this.search=""}ngOnInit(){this.fetchCountryDataAPI(),this.getDatafromDB(),this.countrySearch(),this.countryForm=this.formbuilder.group({countryname:["",e.kI.required],countrytimezone:["",e.kI.required],countrycode:["",e.kI.required],countrycurrency:["",e.kI.required],flag:["",e.kI.required]})}getDatafromDB(){this._country.getcountryData().subscribe({next:n=>{this.countryDataDB=n.countrydata},error:n=>{alert(n)}})}fetchCountryDataAPI(){this._country.fetchCountryAPI().subscribe({next:n=>{this.countryData=n},error:n=>{console.log(n)}})}onSelected(n){const r=this.countryData.find(c=>c.name.common===n);this.currenciesObj=r.currencies,this.currencyKeys=Object.keys(this.currenciesObj),this.firstCurrencyKey=this.currencyKeys[0],this.currencysymbol=this.currenciesObj[this.firstCurrencyKey],this.symbol=this.currencysymbol.symbol,this.flag=r.flags.png,r&&this.countryForm.patchValue({countryname:r.name.common,countrytimezone:r.timezones,countrycode:r.idd.root+r.idd.suffixes[0],countrycurrency:this.symbol,flag:r.flags.png})}OnSubmit(){if(this.countryForm.valid){const n=this.countryForm.value;this.addcountrydata={countryName:n.countryname,countryCurrency:n.countrycurrency,countryTimeZone:n.countrytimezone[0],countryCode:n.countrycode,flagImage:n.flag},this._country.addCountry(this.addcountrydata).subscribe({next:r=>{this.countryDataDB.push(r.countrydata),this.getDatafromDB(),this.countryForm.reset(),this.AddbuttonForm=!1,this.toastr.success(r.message)},error:r=>{console.log(r),this.toastr.warning(r.error.message)}})}}countrySearch(){this._country.searchCountry(this.search).subscribe({next:n=>{this.countryDataDB=n.countrydata},error:n=>{console.log(n)}})}toggleFormVisibility(){this.AddbuttonForm=!this.AddbuttonForm}cancel(){this.AddbuttonForm=!1,this.countryForm.reset()}resetTimer(){this.authService.resetInactivityTimer()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(l.eN),t.Y36(y),t.Y36(e.qu),t.Y36(h._W),t.Y36(p.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-country"]],decls:13,vars:3,consts:[[1,"d-flex","justify-content-center"],["mat-button","","mat-stroked-button","","color","primary","id","showbtn",1,"m-4","d-flex","align-items-center","justify-content-center",3,"click"],["type","text","id","search","placeholder","Search by Country Name...",1,"form-control","m-4","w-25",3,"ngModel","ngModelChange"],["id","searchbtn",3,"click"],[1,"parentFormContainer"],["id","formContainer",4,"ngIf"],[1,"card-container","container"],["id","card-box",1,"container","d-flex","flex-wrap","align-items-center"],["class","m-4 card",4,"ngFor","ngForOf"],["id","formContainer"],[1,"mb-3"],[1,"container",3,"formGroup","ngSubmit"],[1,"dropdown"],["name","country",3,"change"],["country",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-label","d-flex","justify-content-start"],["type","text","formControlName","countryname","name","countryname",1,"form-control",3,"readonly","value"],["type","text","formControlName","countrytimezone",1,"form-control",3,"readonly","value"],["type","text","formControlName","countrycode",1,"form-control",3,"readonly","value"],["type","text","formControlName","countrycurrency",1,"form-control",3,"readonly","value"],[2,"width","100px",3,"src"],["type","submit","id","submitBtn",1,"btn","btn-primary","w-40"],[1,"btn","btn-primary","w-40",2,"margin-left","20px",3,"click"],[3,"value"],[1,"m-4","card"],["alt","Card image cap",1,"card-img-top",2,"width","200px","height","300px",3,"src"],[1,"card-body"],[1,"card-title"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return r.toggleFormVisibility()}),t.TgZ(2,"mat-icon"),t._uU(3,"add_circle"),t.qZA(),t._uU(4," Add Country "),t.qZA(),t.TgZ(5,"input",2),t.NdJ("ngModelChange",function(u){return r.search=u}),t.qZA(),t.TgZ(6,"button",3),t.NdJ("click",function(){return r.countrySearch()}),t._uU(7,"Search"),t.qZA()(),t.TgZ(8,"div",4),t.YNc(9,f,35,11,"div",5),t.qZA(),t.TgZ(10,"div",6)(11,"div",7),t.YNc(12,C,11,5,"div",8),t.qZA()()),2&n&&(t.xp6(5),t.Q6J("ngModel",r.search),t.xp6(4),t.Q6J("ngIf",r.AddbuttonForm),t.xp6(3),t.Q6J("ngForOf",r.countryDataDB))},dependencies:[s.sg,s.O5,e._Y,e.YN,e.Kr,e.Fj,e.JJ,e.JL,e.On,e.sg,e.u,m.Hw],styles:["h1[_ngcontent-%COMP%]{font-family:cursive;padding:40px;color:#fff}.parentFormContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}#formContainer[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:4px 4px 16px #000;width:90%;max-width:600px;padding:20px;margin:40px}#search-input[_ngcontent-%COMP%]{flex-grow:1;padding:5px}#showbtn[_ngcontent-%COMP%]{border-radius:5px;box-shadow:2px 2px 2px #4371e4;border:1px solid black}#searchbtn[_ngcontent-%COMP%]{padding:6px;background-color:#7200c4;color:#fff;border:none;cursor:pointer;border-radius:3px}#showbtn[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:all linear .2s;z-index:1;box-shadow:2px 2px 20px #0000004d;cursor:pointer}.dropdown[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.dropdown[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:5px}@media screen and (max-width: 480px){#formContainer[_ngcontent-%COMP%]{width:90%;margin:20px}}@media screen and (max-width: 780px){#formContainer[_ngcontent-%COMP%]{width:80%;margin:20px}}.card-container[_ngcontent-%COMP%]{width:100%;margin-top:5%}#card-box[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center}.card[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #cccccc;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:200px;height:270px;transition:all linear .2s;margin:10px}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:all linear .2s;z-index:1;box-shadow:2px 2px 20px #0000004d;cursor:pointer}@media screen and (max-width: 580px){.card[_ngcontent-%COMP%]{width:90%;height:auto}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%}}"]}),o})();var b=a(2480);const _=[{path:"",component:x,pathMatch:"full"}];let v=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,b.Bz.forChild(_),e.u5,e.UX,m.Ps]}),o})()}}]);